
; ---- TRB d
    ORG $1400
    FETCHADDRESS_d TMP2 TMP3    
    LOAD TMP2 TMP3 V0 TMP5
    BRACCU16 TRB_d_16bit
    TEST8 TMP5 ALO
    ANDINV8 TMP5 ALO
    STORE TMP2 TMP3 V0 TMP5
    NEXT
TRB_d_16bit:
    CPINC16 TMP7 TMP8 TMP2 TMP3
    LOAD TMP7 TMP8 V0 TMP6
    TEST16 TMP5 TMP6 ALO AHI
    ANDINV8 TMP5 ALO
    ANDINV8 TMP6 AHI
    STORE TMP2 TMP3 V0 TMP5
    STORE TMP7 TMP8 V0 TMP6
    NEXT

; ---- TRB a
    ORG $1C00
    FETCHADDRESS_a TMP2 TMP3 TMP4    
    LOAD TMP2 TMP3 TMP4 TMP5
    BRACCU16 TRB_a_16bit
    TEST8 TMP5 ALO
    ANDINV8 TMP5 ALO
    STORE TMP2 TMP3 TMP4 TMP5
    NEXT
TRB_a_16bit:
    CPINC24 TMP7 TMP8 TMP1 TMP2 TMP3 TMP4
    LOAD TMP7 TMP8 TMP1 TMP6
    TEST16 TMP5 TMP6 ALO AHI
    ANDINV8 TMP5 ALO
    ANDINV8 TMP6 AHI
    STORE TMP2 TMP3 TMP4 TMP5
    STORE TMP7 TMP8 TMP1 TMP6
    NEXT
